# Инструкция по установке системы интерактивного обучения

## Шаг 1: Проверка зависимостей

Убедитесь, что установлен NPM и доступны следующие модули:
- intro.js - библиотека для пошаговых туров
- Laravel Vite - для компиляции ресурсов

## Шаг 2: Установка модулей

```bash
npm install intro.js --save
```

## Шаг 3: Создание таблицы в базе данных

Для корректной работы системы необходимо создать таблицу в базе данных. Вы можете использовать один из следующих способов:

### Вариант 1: Через миграцию Laravel

```bash
php artisan migrate
```

### Вариант 2: Через команду проекта

```bash
php artisan tours:migrate
```

### Вариант 3: Ручное создание таблицы

Выполните следующий SQL-запрос в базе данных проекта:

```sql
CREATE TABLE user_completed_tours (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    tour_key VARCHAR(255) NOT NULL,
    created_at TIMESTAMP NULL DEFAULT NULL,
    updated_at TIMESTAMP NULL DEFAULT NULL,
    CONSTRAINT user_completed_tours_user_id_foreign FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE,
    UNIQUE KEY user_completed_tours_user_id_tour_key_unique (user_id, tour_key)
);
```

## Шаг 4: Компиляция ресурсов

```bash
npm run build
```

## Шаг 5: Проверка работоспособности

1. Войдите в систему как пользователь с ролью "партнер" или "клиент"
2. Перейдите на одну из страниц с настроенным туром (например, панель управления)
3. Убедитесь, что тур запускается автоматически или доступен через кнопку помощи в правом нижнем углу экрана

## Шаг 6: Настройка туров

При необходимости отредактируйте туры в файле `resources/js/tours.js` в соответствии с вашими потребностями.

## Решение возможных проблем

1. **Тур не запускается автоматически**: 
   - Проверьте, что страница соответствует одному из определенных ключей туров
   - Убедитесь, что у пользователя правильная роль (партнер или клиент)

2. **Не сохраняется информация о пройденных турах**:
   - Проверьте наличие таблицы `user_completed_tours` в базе данных
   - Проверьте права доступа к таблице

3. **Проблемы с отображением кнопки помощи**:
   - Убедитесь, что компонент `help-tour-button` включен в основной шаблон
   - Проверьте стили CSS для кнопки в `app.scss`

4. **Ошибка "could not find driver" при создании таблицы**:
   - Проверьте настройки подключения к базе данных в `.env`
   - Убедитесь, что драйвер для MySQL/PostgreSQL установлен и включен в php.ini
